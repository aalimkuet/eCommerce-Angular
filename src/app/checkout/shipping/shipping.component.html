<form
  class="justify-content-center"
  [formGroup]="shippingAddressForm"
  (ngSubmit)="onSubmit()"
>
  <div style="min-height: 38rem; margin-top: 3rem">
    <div class="row">
      <div class="col-sm-12 col-md-12 col-lg-8">
        <div class="card">
          <div class="card-header">
            <p class="mat-headline-6">Shipping Address</p>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-12">
                <div class="form-group">
                  <label for="name">Name</label>
                  <input
                    type="text"
                    formControlName="name"
                    class="form-control"
                  />
                  <div
                    class="alert alert-danger"
                    *ngIf="
                      shippingAddressForm.get('name')?.hasError('required') &&
                      shippingAddressForm.get('name')?.touched
                    "
                  >
                    Name is required.
                  </div>
                  <div
                    class="alert alert-danger"
                    *ngIf="
                      shippingAddressForm.get('name')?.hasError('pattern') &&
                      shippingAddressForm.get('name')?.touched
                    "
                  >
                    Name contains invalid characters.
                  </div>
                </div>
                <div class="row">
                  <div class="col-6">
                    <div class="form-group">
                      <label for="phone">Phone</label>
                      <input
                        type="text"
                        formControlName="phone"
                        class="form-control"
                      />
                      <div
                        class="alert alert-danger"
                        a
                        *ngIf="
                          shippingAddressForm
                            .get('phone')
                            ?.hasError('required') &&
                          shippingAddressForm.get('phone')?.touched
                        "
                      >
                        Phone is required.
                      </div>
                      <div
                        class="alert alert-danger"
                        *ngIf="
                          shippingAddressForm
                            .get('phone')
                            ?.hasError('pattern') &&
                          shippingAddressForm.get('phone')?.touched
                        "
                      >
                        Phone contains invalid characters.
                      </div>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="form-group">
                      <label for="email">Email</label>
                      <input
                        type="text"
                        formControlName="email"
                        class="form-control"
                      />
                      <div
                        class="alert alert-danger"
                        *ngIf="
                          shippingAddressForm
                            .get('email')
                            ?.hasError('required') &&
                          shippingAddressForm.get('email')?.touched
                        "
                      >
                        Email is required.
                      </div>
                      <div
                        class="alert alert-danger"
                        *ngIf="
                          shippingAddressForm
                            .get('email')
                            ?.hasError('pattern') &&
                          shippingAddressForm.get('email')?.touched
                        "
                      >
                        Invalid email format.
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-6">
                    <div class="form-group">
                      <label for="country">Country</label>
                      <select
                        class="form-select"
                        (change)="onCountryChange($event)"
                      >
                        <option value="0" selected>Select a Country</option>
                        <option
                          *ngFor="let country of countries"
                          [value]="country.code"
                        >
                          {{ country.country }}
                        </option>
                      </select>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="form-group">
                      <label for="division">Division</label>
                      <select
                        [disabled]="isBD"
                        (change)="onDivisionChange($event)"
                        class="form-select"
                      >
                        <option value="0" selected>Select a Division</option>
                        <option
                          *ngFor="let division of divisions"
                          [value]="division.id"
                        >
                          {{ division.name }}
                        </option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-6">
                    <div class="form-group">
                      <label for="district">District</label>
                      <select
                        [disabled]="isBD"
                        class="form-select"
                        (change)="onDistrictChange($event)"
                      >
                        <option value="0" selected>Select a District</option>
                        <option
                          *ngFor="let district of districts"
                          [value]="district.id"
                        >
                          {{ district.name }}
                        </option>
                      </select>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="form-group">
                      <label for="upazila">Area</label>
                      <select
                        [disabled]="isBD"
                        class="form-select"
                        aria-label="multiple select example"
                      >
                        <option value="0" selected>Select a Area</option>
                        <option
                          *ngFor="let upazila of upazilas"
                          [value]="upazila.id"
                        >
                          {{ upazila.name }}
                        </option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <label for="description">Address</label>
                  <textarea
                    id="description"
                    formControlName="description"
                    class="form-control"
                    rows="4"
                  ></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-12 col-md-12 col-lg-4 checkout-summary">
        <div class="card">
          <div class="card-body">
            <p class="mat-headline-5">Checkout Summary</p>

            <ul class="list-group">
              <li
                class="list-group-item d-flex justify-content-between align-items-center"
              >
                Subtotal
                <span class="badge badge-primary badge-pill">14</span>
              </li>
              <li
                class="list-group-item d-flex justify-content-between align-items-center"
              >
                Shipping
                <span class="badge badge-primary badge-pill">2</span>
              </li>
              <li
                class="list-group-item d-flex justify-content-between align-items-center"
              >
                Total
                <span class="badge badge-primary badge-pill">1</span>
              </li>
              <li
                class="list-group-item d-flex justify-content-between align-items-center"
                style="font-weight: bold"
              >
                Payable Total
                <span class="badge badge-primary badge-pill">1000</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div style="min-height: 23rem; margin-top: 1rem">
    <div class="row">
      <div class="col-sm-12 col-md-12 col-lg-8">
        <div class="card">
          <div class="card-header">
            <p class="mat-headline-6">Payment Method</p>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-12">
                <div class="container">
                  <div class="row">
                    <div
                      class="col-md-4"
                      *ngFor="let payment_method of payment_methods"
                    >
                      <div
                        class="card"
                        style="
                          max-width: 15rem;
                          height: 7rem;
                          margin-bottom: 1rem;
                          background-color: rgb(252, 246, 253);
                        "
                      >
                        <label
                          class="card-label"
                          (click)="selectRadio(payment_method.id)"
                        >
                          <div class="card-body">
                            <div
                              class="form-check"
                              style="
                                cursor: pointer;
                                display: flex;
                                flex-direction: column;
                                justify-content: space-between;
                              "
                            >
                              <input
                                class="form-check-input"
                                type="radio"
                                [value]="payment_method.id"
                                formControlName="selectedOption"
                                (click)="$event.stopPropagation()"
                              />
                              <img
                                [src]="payment_method.img"
                                style="height: 35px; width: 75px"
                                alt="Image"
                              />
                              <label class="form-check-label">{{
                                payment_method.name
                              }}</label>
                            </div>
                          </div>
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div style="min-height: 10rem">
    <div class="row">
      <div class="col-sm-12 col-md-12 col-lg-8">
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="col-md-12">
                <div class="form-check" (click)="placeOrderCondition($event)">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    [checked]="isChecked"
                  />
                  <label
                    class="form-check-label mat-body-1"
                    style="cursor: pointer"
                  >
                    Please accept all types of conditions
                  </label>
                </div>

                <button
                  type="submit"
                  mat-raised-button
                  color="primary"
                  style="float: right; width: 10rem"
                  [disabled]="!isChecked"
                  [ngClass]="{
                    'disabled-button': !isChecked
                  }"
                >
                  <div style="display: flex; justify-content: space-between">
                    <span>Place Order</span>
                    <mat-icon>arrow_right_alt</mat-icon>
                  </div>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
